---
title: 'Next.js App Router 완벽 가이드'
description: 'Next.js 13+의 새로운 App Router에 대해 알아보고, Pages Router와의 차이점을 비교해보겠습니다.'
date: '2024-01-25'
tags: ['Next.js', 'React', 'Web Development']
locale: 'ko'
published: true
---

# Next.js App Router 완벽 가이드

Next.js 13에서 도입된 App Router는 React의 Server Components와 함께 사용하여 더 나은 성능과 개발자 경험을 제공합니다.

## App Router vs Pages Router

### Pages Router (기존)
```
pages/
  index.js
  about.js
  blog/
    [slug].js
```

### App Router (새로운)
```
app/
  page.js
  about/
    page.js
  blog/
    [slug]/
      page.js
```

## 주요 차이점

### 1. 파일 기반 라우팅

App Router에서는 `page.js` 파일이 라우트를 정의합니다:

```javascript
// app/dashboard/page.js
export default function Dashboard() {
  return <h1>Dashboard</h1>;
}
```

### 2. Server Components

기본적으로 모든 컴포넌트는 Server Component입니다:

```javascript
// app/posts/page.js
async function Posts() {
  const posts = await fetch('https://api.example.com/posts');
  
  return (
    <div>
      {posts.map(post => (
        <article key={post.id}>
          <h2>{post.title}</h2>
          <p>{post.content}</p>
        </article>
      ))}
    </div>
  );
}
```

### 3. Layouts

`layout.js` 파일로 공통 레이아웃을 정의할 수 있습니다:

```javascript
// app/layout.js
export default function RootLayout({ children }) {
  return (
    <html lang="ko">
      <body>
        <header>My Blog</header>
        <main>{children}</main>
        <footer>© 2024</footer>
      </body>
    </html>
  );
}
```

## 새로운 기능들

### Loading UI

`loading.js` 파일로 로딩 상태를 정의할 수 있습니다:

```javascript
// app/dashboard/loading.js
export default function Loading() {
  return <div>Loading...</div>;
}
```

### Error Handling

`error.js` 파일로 에러 상태를 처리할 수 있습니다:

```javascript
// app/dashboard/error.js
'use client';

export default function Error({ error, reset }) {
  return (
    <div>
      <h2>Something went wrong!</h2>
      <button onClick={() => reset()}>Try again</button>
    </div>
  );
}
```

### Not Found

`not-found.js` 파일로 404 페이지를 정의할 수 있습니다:

```javascript
// app/not-found.js
export default function NotFound() {
  return (
    <div>
      <h2>Not Found</h2>
      <p>Could not find requested resource</p>
    </div>
  );
}
```

## 마이그레이션 가이드

### 1. 점진적 마이그레이션

App Router와 Pages Router를 동시에 사용할 수 있습니다:

```
app/          # 새로운 App Router
pages/        # 기존 Pages Router
```

### 2. 주요 변경사항

- `getStaticProps` → Server Components
- `getServerSideProps` → Server Components
- `getStaticPaths` → `generateStaticParams`

## 성능 최적화

### 1. Server Components

서버에서 렌더링되어 번들 크기를 줄입니다:

```javascript
// Server Component - 클라이언트 번들에 포함되지 않음
async function ServerComponent() {
  const data = await fetch('...');
  return <div>{data}</div>;
}
```

### 2. Streaming

점진적으로 콘텐츠를 로드할 수 있습니다:

```javascript
import { Suspense } from 'react';

export default function Page() {
  return (
    <div>
      <h1>My Blog</h1>
      <Suspense fallback={<div>Loading posts...</div>}>
        <Posts />
      </Suspense>
    </div>
  );
}
```

## 결론

App Router는 Next.js의 미래입니다. 더 나은 성능과 개발자 경험을 제공하며, React의 최신 기능들을 활용할 수 있습니다.

새로운 프로젝트를 시작한다면 App Router를 사용하는 것을 강력히 추천합니다!
